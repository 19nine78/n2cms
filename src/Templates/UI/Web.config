<?xml version="1.0"?>
<configuration xmlns="http://schemas.microsoft.com/.NetConfiguration/v2.0">
	<configSections>
		<section name="castle" type="Castle.Windsor.Configuration.AppDomain.CastleSectionHandler, Castle.Windsor" />

		<sectionGroup name="n2" type="N2.Configuration.N2ConfigurationSectionHandler, N2">
			<section name="mediumTrust" type="N2.MediumTrust.Configuration.MediumTrustSectionHandler, N2" requirePermission="false"/>
		</sectionGroup>
	</configSections>

	<connectionStrings>
		<!-- Some connection string examples
		SQLite:				<add name="N2CMS" connectionString="Data Source=|DataDirectory|\n2blog.db;Version=3;New=True;" providerName="System.Data.SQLite"/>
		SQL Server 2005:	<add name="N2CMS" connectionString="Server=(local);Database=n2blog;Integrated Security=SSPI"/>
		SQL Express 2005:	<add name="N2CMS" connectionString="Data Source=.\SQLEXPRESS;AttachDbFilename=|DataDirectory|\N2.mdf;Integrated Security=True;User Instance=True" providerName="System.Data.SqlClient"/>
		SQL Server 2000:	<add name="N2CMS" connectionString="Data Source=SQLServer2000;Database=SQLDatabase2000;User Id=SqlUser2000;Password=SqlPassword2000;Network Library=DBMSSOCN;" providerName="System.Data.SqlClient"/>
		MySQL:				<add name="N2CMS" connectionString="Data Source=MySQLServer;Database=MySQLDatabase;User Id=MySQLUser;Password=MySQLPassword;" providerName="MySql.Data.MySqlClient"/>
		-->
		<add name="N2CMS" connectionString="Data Source=.\SQLEXPRESS;AttachDbFilename=|DataDirectory|\N2.mdf;Integrated Security=True;User Instance=True" providerName="System.Data.SqlClient"/>
	</connectionStrings>

	<castle>
		<!-- Required properties -->
		<properties>
			<rootItemID>1</rootItemID>
			<startPageID>2</startPageID>
			<nhSettings>
				<dictionary>
					<entry key="hibernate.connection.provider">NHibernate.Connection.DriverConnectionProvider</entry>
					<entry key="hibernate.connection.connection_string_name">N2CMS</entry>

					<!-- set use_second_level_cache to true and uncomment this to enable cache -->
					<entry key="hibernate.cache.use_second_level_cache">true</entry>
					<entry key="hibernate.cache.use_query_cache">true</entry>
					<entry key="hibernate.cache.provider_class">NHibernate.Caches.SysCache.SysCacheProvider,NHibernate.Caches.SysCache</entry>

					<!-- SQL Server 2005 -->
					<entry key="hibernate.connection.driver_class">NHibernate.Driver.SqlClientDriver</entry>
					<entry key="hibernate.dialect">NHibernate.Dialect.MsSql2005Dialect</entry>
					<!-- SQLite
					  <entry key="hibernate.connection.driver_class">NHibernate.Driver.SQLite20Driver</entry>
					  <entry key="hibernate.dialect">NHibernate.Dialect.SQLiteDialect</entry>
					  -->
					<!-- SQL Server 2000 
					  <entry key="hibernate.connection.driver_class">NHibernate.Driver.SqlClientDriver</entry>
					  <entry key="hibernate.dialect">NHibernate.Dialect.MsSql2000Dialect</entry>
					  -->
					<!-- MySQL 
					  <entry key="hibernate.connection.driver_class">NHibernate.Driver.MySqlDataDriver</entry>
					  <entry key="hibernate.dialect">NHibernate.Dialect.MySQL5Dialect</entry>
					  -->
				</dictionary>
			</nhSettings>
		</properties>

		<!-- Default configuration -->
		<include uri="assembly://N2/Engine/n2.configuration.xml"/>

		<!-- Changed configuration of the services goes here -->
		<components>
			<component id="n2.defaultSite">
				<parameters>
					<rootItemID>#{rootItemID}</rootItemID>
					<startPageID>#{startPageID}</startPageID>
				</parameters>
			</component>
		</components>
	</castle>

	<n2>
		<mediumTrust rootItemID="1" startPageID="2">
			<assemblies>
				<add assembly="N2"/>
				<add assembly="N2.Templates.UI"/>
				<add assembly="Demo"/>
				<add assembly="N2.Edit"/>
				<add assembly="N2.Security"/>
				<add assembly="N2.Templates.Advertisement"/>
				<add assembly="N2.Templates"/>
				<add assembly="N2.Templates.SEO"/>
				<add assembly="N2.Templates.Syndication"/>
			</assemblies>
			<itemTypes>
				<add typeName="Demo.Items.RegisterItem, Demo"/>
				<add typeName="N2.Trashcan.TrashContainerItem, N2.Edit"/>
				<add typeName="N2.Templates.UI.Items.LayoutParts.VerticalMenu, N2.Templates.UI"/>
				<add typeName="N2.Templates.UI.Items.Parts.Teaser, N2.Templates.UI"/>
				<add typeName="N2.Templates.UI.Items.TextPage, N2.Templates.UI"/>
				<add typeName="N2.Edit.Wizard.Items.MagicLocation, N2.Edit"/>
				<add typeName="N2.Templates.Advertisement.Items.SocialBookmarks, N2.Templates.Advertisement"/>
				<add typeName="N2.Templates.Advertisement.Items.Tracking, N2.Templates.Advertisement"/>
				<add typeName="N2.Security.Items.UserList, N2.Security"/>
				<add typeName="N2.Edit.Wizard.Items.Wonderland, N2.Edit"/>
				<add typeName="N2.Security.Items.User, N2.Security"/>
				<add typeName="N2.Templates.UI.Items.StartPage, N2.Templates.UI"/>
				<add typeName="N2.Templates.UI.Items.SiteMap, N2.Templates.UI"/>
				<add typeName="N2.Templates.UI.Items.RootPage, N2.Templates.UI"/>
				<add typeName="N2.Templates.UI.Items.LayoutParts.Columns, N2.Templates.UI"/>
				<add typeName="N2.Templates.UI.Items.Parts.ControlPanel, N2.Templates.UI"/>
				<add typeName="N2.Templates.UI.Items.LayoutParts.Menu, N2.Templates.UI"/>
				<add typeName="N2.Templates.UI.Items.LayoutParts.HorizontalMenu, N2.Templates.UI"/>
				<add typeName="N2.Templates.UI.Items.Parts.TextItem, N2.Templates.UI"/>
				<add typeName="N2.Templates.UI.Items.Parts.RandomImage, N2.Templates.UI"/>
				<add typeName="N2.Templates.UI.Items.Redirect, N2.Templates.UI"/>
				<add typeName="N2.Templates.UI.Items.LayoutParts.Top, N2.Templates.UI"/>
				<add typeName="N2.Templates.UI.Items.RootParts.Statistics, N2.Templates.UI"/>
			</itemTypes>
			<nhProperties>
				<add key="hibernate.connection.connection_string_name" value="N2CMS"/>
				<add key="hibernate.cache.use_query_cache" value="false"/>
				<add key="hibernate.cache.use_second_level_cache" value="false"/>
				<add key="hibernate.cache.provider_class" value="NHibernate.Caches.SysCache.SysCacheProvider,NHibernate.Caches.SysCache"/>
				<add key="hibernate.connection.driver_class" value="NHibernate.Driver.SqlClientDriver"/>
				<add key="hibernate.use_reflection_optimizer" value="false"/>
				<add key="hibernate.dialect" value="NHibernate.Dialect.MsSql2005Dialect"/>
				<add key="hibernate.connection.provider" value="NHibernate.Connection.DriverConnectionProvider"/>
			</nhProperties>
		</mediumTrust>
	</n2>


	<system.web>
		<!--<globalization uiCulture="nl-NL" culture="nl-NL" />-->
		<!--<globalization uiCulture="it-IT" culture="it-IT" />-->
		<trust level="Medium"/>

		<pages validateRequest="false">
			<controls>
				<add tagPrefix="n2" namespace="N2.Web.UI.WebControls" assembly="N2" />
				<add tagPrefix="n2" namespace="N2.Templates.Web.UI.WebControls" assembly="N2.Templates"/>
			</controls>
		</pages>

		<httpModules>
			<!--<add name="n2.initializer" type="N2.Web.InitializerModule,N2"/>-->
			<add name="n2.mediumTrustInitializer" type="N2.MediumTrust.Web.InitializerModule, N2"/>
		</httpModules>

		<httpHandlers>
			<add path="*.n2.ashx" verb="*" type="N2.Web.AjaxRequestHandler, N2" />
		</httpHandlers>

		<siteMap defaultProvider="PublicSiteMap">
			<providers>
				<add name="PublicSiteMap" type="N2.Web.PublicSiteMapProvider, N2" startPageIsRoot="true"/>
			</providers>
		</siteMap>

		<compilation debug="true">
			<expressionBuilders>
				<add expressionPrefix="CurrentItem" type="N2.Web.Compilation.CurrentItemExpressionBuilder, N2"/>
				<add expressionPrefix="CurrentPage" type="N2.Web.Compilation.CurrentPageExpressionBuilder, N2"/>
				<add expressionPrefix="StartPage" type="N2.Web.Compilation.StartPageExpressionBuilder, N2"/>
				<add expressionPrefix="Code" type="N2.Web.Compilation.CodeExpressionBuilder, N2"/>
				<add expressionPrefix="HasValue" type="N2.Web.Compilation.HasValueExpressionBuilder, N2"/>
			</expressionBuilders>
		</compilation>

		<authentication mode="Forms">
			<forms loginUrl="edit/login.aspx" protection="All" timeout="30000" path="/">
				<credentials passwordFormat="Clear">
					<!-- WARNING: Change this default password -->
					<user name="admin" password="admin"/>
				</credentials>
			</forms>
		</authentication>

		<customErrors mode="Off"/>

		<membership defaultProvider="ContentMembershipProvider">
			<providers>
				<clear/>
				<add name="ContentMembershipProvider" type="N2.Security.ContentMembershipProvider, N2.Security" />
			</providers>
		</membership>
		<roleManager enabled="true" defaultProvider="ContentRoleProvider">
			<providers>
				<clear/>
				<add name="ContentRoleProvider" type="N2.Security.ContentRoleProvider, N2.Security" />
			</providers>
		</roleManager>
	</system.web>

	<appSettings>
	</appSettings>
</configuration>