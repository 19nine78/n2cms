<?xml version="1.0"?>

<configuration xmlns="http://schemas.microsoft.com/.NetConfiguration/v2.0">
  <configSections>
    <sectionGroup name="n2" type="N2.Configuration.SectionGroup, N2">
      <section name="host" type="N2.Configuration.HostSection, N2" requirePermission="false" />
      <section name="engine" type="N2.Configuration.EngineSection, N2" requirePermission="false" />
      <section name="database" type="N2.Configuration.DatabaseSection, N2" requirePermission="false" />
      <section name="installer" type="N2.Configuration.InstallerSection, N2" requirePermission="false" />
      <section name="edit" type="N2.Configuration.EditSection, N2" requirePermission="false" />
      <section name="globalization" type="N2.Configuration.GlobalizationSection, N2" requirePermission="false" />
    </sectionGroup>
  </configSections>

  <connectionStrings>
    <!-- Some connection string examples:
		SQLite:				<add name="N2CMS" connectionString="Data Source=|DataDirectory|\n2blog.db;Version=3;New=True;" providerName="System.Data.SQLite"/>
		SQL Server 2005:	<add name="N2CMS" connectionString="Server=(local);Database=N2_Templates;Integrated Security=SSPI"/>
		SQL Express 2005:	<add name="N2CMS" connectionString="Data Source=.\SQLEXPRESS;AttachDbFilename=|DataDirectory|\N2.mdf;Integrated Security=True;User Instance=True" providerName="System.Data.SqlClient"/>
		SQL Server 2000:	<add name="N2CMS" connectionString="Data Source=SQLServer2000;Database=SQLDatabase2000;User Id=SqlUser2000;Password=SqlPassword2000;Network Library=DBMSSOCN;" providerName="System.Data.SqlClient"/>
		MySQL:				<add name="N2CMS" connectionString="Data Source=MySQLServer;Database=MySQLDatabase;User Id=MySQLUser;Password=MySQLPassword;" providerName="MySql.Data.MySqlClient"/>
		-->
    <!-- This setting assumes you have Sql Server Express 2005 installed and have a database file located at [wwwroot]/App_Data/N2.mdf.
         If you don't have the database you can download it from http://n2cms.com/upload/app_data.zip.
         If you prefer another database engine you can use one of the connection string above as a template and change the n2/database section accordingly.
    -->
    <add name="N2CMS" connectionString="Data Source=.\SQLEXPRESS;AttachDbFilename=|DataDirectory|\N2.mdf;Integrated Security=True;User Instance=True" providerName="System.Data.SqlClient" />
  </connectionStrings>

  <n2>
    <!-- If you install a database from scrach you'll need to insert some required pages. This can be done by the web based installer located at http://yoursite/install/edit -->
    <host rootID="1" startPageID="1" />
    <engine/>
    <!-- Other flavours: SqlServer2005, SqlServer2000, MySql, SqLite -->
    <database connectionStringName="N2CMS" flavour="SqlServer2005" />
    <installer checkInstallationStatus="true" />
    <edit />
  </n2>

  <system.web>
    <httpModules>
      <add name="languaging" type="LanguageSwitcher.LanguageSwitcherSessionManaged, LanguageSwitcher" />
      <add name="n2initializer" type="N2.Web.InitializerModule,N2"/>
    </httpModules>

    <httpHandlers>
      <add path="*.n2.ashx" verb="*" type="N2.Web.AjaxRequestHandler, N2" />
    </httpHandlers>

    <pages validateRequest="false" enableEventValidation="false">
      <controls>
        <add tagPrefix="n2" assembly="N2" namespace="N2.Web.UI.WebControls"/>
      </controls>
    </pages>

    <siteMap defaultProvider="PublicSiteMap">
      <providers>
        <add name="PublicSiteMap" type="N2.Web.PublicSiteMapProvider, N2" startPageIsRoot="true"/>
      </providers>
    </siteMap>

    <compilation debug="true">
      <expressionBuilders>
        <add expressionPrefix="CurrentItem" type="N2.Web.Compilation.CurrentItemExpressionBuilder, N2"/>
        <add expressionPrefix="CurrentPage" type="N2.Web.Compilation.CurrentPageExpressionBuilder, N2"/>
        <add expressionPrefix="Code" type="N2.Web.Compilation.CodeExpressionBuilder, N2"/>
        <add expressionPrefix="StartPage" type="N2.Web.Compilation.StartPageExpressionBuilder, N2"/>
        <add expressionPrefix="HasValue" type="N2.Web.Compilation.HasValueExpressionBuilder, N2"/>
      </expressionBuilders>
    </compilation>

    <authentication mode="Forms">
      <forms loginUrl="edit/login.aspx" protection="All" timeout="30000" path="/">
        <credentials passwordFormat="Clear">
          <!-- WARNING: Change this default password -->
          <user name="admin" password="changeme" />
        </credentials>
      </forms>
    </authentication>

    <customErrors mode="Off" />

  </system.web>
</configuration>