<?xml version="1.0"?>

<configuration xmlns="http://schemas.microsoft.com/.NetConfiguration/v2.0">
	<configSections>
    <sectionGroup name="n2" type="N2.Configuration.SectionGroup, N2">
      <section name="host" type="N2.Configuration.HostSection, N2" requirePermission="false" />
      <section name="engine" type="N2.Configuration.EngineSection, N2" requirePermission="false" />
      <section name="database" type="N2.Configuration.DatabaseSection, N2" requirePermission="false" />
      <section name="installer" type="N2.Configuration.InstallerSection, N2" requirePermission="false" />
      <section name="edit" type="N2.Configuration.EditSection, N2" requirePermission="false" />
      <section name="globalization" type="N2.Configuration.GlobalizationSection, N2" requirePermission="false" />
    </sectionGroup>
  </configSections>

	<connectionStrings>
		<clear/>
		<add name="N2CMS" connectionString="Data Source=.\SQLEXPRESS;AttachDbFilename=|DataDirectory|\N2.mdf;Integrated Security=True;User Instance=True" providerName="System.Data.SqlClient" />
		<!-- Example: Local MS SQL DB using windows authentication: <add name="N2" connectionString="Server=(local);Database=N2;Integrated Security=SSPI"/> -->
	</connectionStrings>

  <n2>
    <!-- If you install a database from scrach you'll need to insert some required pages. This can be done by the web based installer located at http://yoursite/install/edit -->
    <host rootID="1" startPageID="2" multipleSites="true"/>
    <engine/>
    <!-- Other flavours: SqlServer2005, SqlServer2000, MySql, SqLite, SqlCe, Firebird -->
    <database connectionStringName="N2CMS" flavour="SqlServer2005" />
    <installer checkInstallationStatus="true" />
    <edit />
    <globalization enabled="false" />
  </n2>

  <!--<castle>
    <properties>
      <rootItemID>1</rootItemID>
      <nhSettings>
        <dictionary>
          <entry key="connection.provider">NHibernate.Connection.DriverConnectionProvider</entry>
          <entry key="connection.connection_string_name">N2</entry>

          <entry key="cache.use_second_level_cache">false</entry>
          
          <entry key="dialect">NHibernate.Dialect.MsSql2005Dialect</entry>
        </dictionary>
      </nhSettings>
    </properties>

	  <components>
		  <component id="n2.sitesProvider" service="N2.Web.ISitesProvider, N2" type="N2.Web.DynamicSitesProvider, N2" />
		  <component id="n2.urlParser.multipleSite" service="N2.Web.IUrlParser, N2" type="N2.Web.MultipleHostsUrlParser, N2" />
	  </components>
	  
    <include uri="assembly://N2/Engine/n2.configuration.xml"/>

    --><!-- Configuration goes here --><!--
  </castle>-->

	<system.web>
		<pages validateRequest="false">
			<controls>
				<add tagPrefix="n2" assembly="N2" namespace="N2.Web.UI.WebControls"/>
			</controls>
		</pages>

		<siteMap defaultProvider="PublicSiteMap">
			<providers>
				<add name="PublicSiteMap" type="N2.Web.PublicSiteMapProvider, N2" startPageIsRoot="true"/>
			</providers>
		</siteMap>

		<compilation debug="true">
			<expressionBuilders>
				<add expressionPrefix="CurrentItem" type="N2.Web.Compilation.CurrentItemExpressionBuilder, N2"/>
				<add expressionPrefix="CurrentPage" type="N2.Web.Compilation.CurrentPageExpressionBuilder, N2"/>
				<add expressionPrefix="Code" type="N2.Web.Compilation.CodeExpressionBuilder, N2"/>
				<add expressionPrefix="StartPage" type="N2.Web.Compilation.StartPageExpressionBuilder, N2"/>
				<add expressionPrefix="HasValue" type="N2.Web.Compilation.HasValueExpressionBuilder, N2"/>
			</expressionBuilders>
		</compilation>

		<authentication mode="Forms">
			<forms loginUrl="edit/login.aspx" protection="All" timeout="30000" path="/">
				<credentials passwordFormat="Clear">
					<!-- WARNING: Change this default password -->
					<user name="admin" password="admin" />
				</credentials>
			</forms>
		</authentication>
	</system.web>

	<appSettings>
	</appSettings>
</configuration>
