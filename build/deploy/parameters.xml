<?xml version="1.0" encoding="utf-8"?>
<parameters>

	<parameter name="Application Path" defaultValue="Default Web Site/N2CMS" tags="iisapp" description="Site/Application path where to install your application (e.g. Default Web Site/N2CMS)">
		<parameterEntry type="ProviderPath" scope="iisapp" match="N2CMS" />
	</parameter>
	
	
	<!-- DATABASE -->

	<!-- Used to create user and build connection string -->
	<parameter name="dbServer" defaultValue=".\SQLEXPRESS" tags="SQL, MySQL, dbServer">
	</parameter>
	<parameter name="dbName" defaultValue="N2CMS" tags="SQL, MySQL, dbName">
		<parameterEntry type="TextFile" scope="install.sql" match="PlaceHolderForDb" />
	</parameter>
	<parameter name="dbUsername" defaultValue="N2CMSUser" tags="SQL, MySQL, dbUsername">
		<parameterEntry type="TextFile" scope="install.sql" match="PlaceHolderForUser" />
	</parameter>
	<parameter name="dbUserPassword" tags="New, Password, SQL, MySQL, dbUserPassword">
		<parameterValidation type="RegularExpression" validationString="(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$" />
		<parameterEntry type="TextFile" scope="install.sql" match="PlaceHolderForPassword" />
	</parameter>

	<!-- Used to create the database -->
	<parameter name="dbAdminUsername" defaultValue="sa" tags="SQL, dbAdminUsername">
	</parameter>
	<parameter name="dbAdminPassword" tags="Password, SQL, dbAdminPassword">
	</parameter>
	<parameter name="SQLConnectionString" defaultValue="Server={dbServer};Database={dbName};uid={dbAdminUsername};Pwd={dbAdminPassword};" tags="SQL, Hidden, SQLConnectionString, Validate">
		<parameterEntry type="ProviderPath" scope="dbfullsql" match="install.sql" />
	</parameter>
	<parameter name="MySQLConnectionString" defaultValue="Server={dbServer};Database={dbName};uid={dbAdminUsername};Pwd={dbAdminPassword};" tags="MySQL, Hidden, MySQLConnectionString, Validate">
		<parameterEntry type="ProviderPath" scope="dbfullsql" match="install.sql" />
	</parameter>

	<!-- WEB.CONFIG -->
	
	<!-- connection string -->

	<parameter name="ConnectionString_SQLServer" tags="SQL, Hidden" description="Sets the connection string in web.config" defaultValue="Data Source={dbServer};Database={dbName};uid={dbUsername};Pwd={dbUserPassword};">
		<parameterEntry type="XmlFile" scope="\\web.config$" match="//connectionStrings/add/@connectionString" />
	</parameter>
	<parameter name="ConnectionStringProvider_SQLServer" tags="SQL, Hidden" description="Sets the connection provider in web.config" defaultValue="System.Data.SqlClient">
		<parameterEntry type="XmlFile" scope="\\web.config$" match="//connectionStrings/add/@providerName" />
	</parameter>


	<parameter name="ConnectionString_SQLite" tags="SQLite, Hidden" description="Sets the connection string in web.config" defaultValue="Data Source=|DataDirectory|\n2.db;Version=3;New=True;">
		<parameterEntry type="XmlFile" scope="\\web.config$" match="//connectionStrings/add/@connectionString" />
	</parameter>
	<parameter name="ConnectionStringProvider_SQLite" tags="SQLite, Hidden" description="Sets the connection provider in web.config" defaultValue="System.Data.SQLite">
		<parameterEntry type="XmlFile" scope="\\web.config$" match="//connectionStrings/add/@providerName" />
	</parameter>
	
	<parameter name="ConnectionString_MySQL" tags="MySQL, Hidden" description="Sets the connection string in web.config" defaultValue="Data Source={dbServer};Database={dbName};User Id={dbUsername};Password={dbUserPassword};">
		<parameterEntry type="XmlFile" scope="\\web.config$" match="//connectionStrings/add/@connectionString" />
	</parameter>
	<parameter name="ConnectionStringProvider_MySQL" tags="MySQL, Hidden" description="Sets the connection provider in web.config" defaultValue="MySql.Data.MySqlClient">
		<parameterEntry type="XmlFile" scope="\\web.config$" match="//connectionStrings/add/@providerName" />
	</parameter>

	<!-- web administration login -->

	<parameter name="webUser" friendlyName="Web Administrator User" defaultValue="admin" tags="Hidden" description="The admin user name used to manage the site from the web">
		<parameterEntry type="XmlFile" scope="\\web.config$" match="//system.web/authentication/forms/credentials/user/@name" />
		<parameterEntry type="XmlFile" scope="\\N2\web.config$" match="//authorization/allow[users='Admin']/@users" />
	</parameter>
	<parameter name="webPassword" friendlyName="Web Administrator Password" defaultValue="changeme" tags="" description="The admin password used to manage the site from the web" >
		<parameterEntry type="XmlFile" scope="\\web.config$" match="//system.web/authentication/forms/credentials/user/@password" />
	</parameter>
	

	<!-- ACL -->

	<parameter name="SetAclParameterAppData" defaultValue="{Application Path}/App_Data" tags="Hidden">
		<parameterEntry type="ProviderPath" scope="setAcl" match="N2CMS/App_Data" />
	</parameter>
	<parameter name="SetAclParameterUpload" defaultValue="{Application Path}/Upload" tags="Hidden">
		<parameterEntry type="ProviderPath" scope="setAcl" match="N2CMS/Upload" />
	</parameter>
	<parameter name="SetAclParameterConfig" defaultValue="{Application Path}/Web.config" tags="Hidden">
		<parameterEntry type="ProviderPath" scope="setAcl" match="N2CMS/Web.config" />
	</parameter>

</parameters>
